import sys

from setuptools import setup
from distutils.dist import Distribution

class CMakeDistribution(Distribution):
    """Distribution which always forces a binary package with platform name"""
    def has_ext_modules(self):
        return True

setup(
    name = '${ss}',
    packages = ['${ss}'],
    install_requires = ['numpy>=0.10'],

    include_package_data = True,
    package_data = {
        # If any package contains *.<ext> , include them:
        '${ss}': ['*.pyd', '*.dll'] if 'win' in sys.platform else ['*.so', '*.dynlib']
    },

    version     = '${PROJECT_VERSION}',
    author      = 'IBM',
    description = 'desc',
    license     = 'Apache 2.0',
    keywords    = '',
    url         = '',

    options = {
        'bdist_wheel': {
            'universal': False
        },
    },

    distclass = CMakeDistribution,
    zip_safe = False,

    test_suite='nose.collector',
    tests_require=['nose'],
    )